<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPS</title>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&family=Roboto:wght@300&display=swap" rel="stylesheet">
    <link href="Style.css" rel="stylesheet">
</head>
<body>
    <h1>Welcome to Stone-Paper-Scissor</h1>
    <div class="box">
        <div class="title">
            <span class="text">Chances Left: 10</span>
        </div>
        <div class="players">
            <div class="h">ðŸ‘¦</div>
            <div class="c">ðŸ¤–</div>
        </div>
        <div class="bottom">
            <div class="s1">0</div>
            <div class="options">
                <button class="b1" onclick="disp('âœŠ')">âœŠ</button>
                <button class="b2" onclick="disp('âœ‹')">âœ‹</button>
                <button class="b3" onclick="disp('âœŒ')">âœŒ</button>
            </div>
            <div class="s2">0</div>
        </div>
    </div>
    <div id="again" onclick="reset()">Play Again ?</div>
    <script>
        let r=10,human=0,computer=0,p2;

        /////////////////////// Each Iteration Logic /////////////////////////////////////
        function xyz(p1){
            let num=Math.ceil(Math.random()*3)
            if(num==1){
                p2=document.getElementsByClassName("c")[0].innerHTML="âœŠ";
            }
            else if(num==2){
                p2=document.getElementsByClassName("c")[0].innerHTML="âœ‹";
            }
            else{
                p2=document.getElementsByClassName("c")[0].innerHTML="âœŒ";
            }

            if(p1!=p2){
                if(p1=='âœŠ' &&  p2=='âœŒ'){
                    human++;
                    document.getElementsByClassName("s1")[0].innerHTML=human
                }
                else if(p1=='âœŠ' && p2=='âœ‹'){
                    computer++;
                    document.getElementsByClassName("s2")[0].innerHTML=computer
                }
                else if(p1=='âœ‹' && p2=='âœŠ'){
                    human++;
                    document.getElementsByClassName("s1")[0].innerHTML=human
                }
                else if(p1=='âœ‹' && p2=='âœŒ'){
                    computer++;
                    document.getElementsByClassName("s2")[0].innerHTML=computer
                }
                else if(p1=='âœŒ' && p2=='âœ‹'){
                    human++;
                    document.getElementsByClassName("s1")[0].innerHTML=human
                }
                else{
                    computer++;
                    document.getElementsByClassName("s2")[0].innerHTML=computer
                }
            }

            
        }

        ////////////////////////| Stone/Paper/Scissor Logic |/////////////////////////////
        function disp(x){
            console.log(r)
            let p1=document.getElementsByClassName("h")[0].innerHTML=x
            r--
            if(r>0){
                document.getElementsByClassName("text")[0].innerHTML="Chances Left: "+r
                // Function call for comparison (written above)
                xyz(p1)
            }
            else{
                document.getElementsByClassName("b1")[0].disabled=true
                document.getElementsByClassName("b2")[0].disabled=true
                document.getElementsByClassName("b3")[0].disabled=true
                document.getElementById("again").style.display="block"
                if(human>computer){
                    document.getElementsByClassName("text")[0].innerHTML="You WIN :)"
                }
                else if(computer>human){
                    document.getElementsByClassName("text")[0].innerHTML="You LOSE :("
                }
                else{
                    document.getElementsByClassName("text")[0].innerHTML="TIE :|"
                }
                r=0
                human=0
                computer=0
            }
        }

        /////////////////////////////// Play Again Logic /////////////////////////////////
        function reset(){
            r=10
            document.getElementsByClassName("text")[0].innerHTML="Chances Left: 10"
            document.getElementsByClassName("h")[0].innerHTML="ðŸ‘¦"
            document.getElementsByClassName("c")[0].innerHTML="ðŸ¤–"
            document.getElementsByClassName("s1")[0].innerHTML="0"
            document.getElementsByClassName("s2")[0].innerHTML="0"
            document.getElementsByClassName("b1")[0].disabled=false
            document.getElementsByClassName("b2")[0].disabled=false
            document.getElementsByClassName("b3")[0].disabled=false
            document.getElementById("again").style.display="none"
        }
    </script>
</body>
</html>